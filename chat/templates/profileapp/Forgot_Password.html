
	{% extends 'profileapp/layout2.html' %}
{% load static %}
<html>
    
	{% block head %}

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'Account/fonts/icomoon/style.css' %}">

    <link rel="stylesheet" href="{% static 'Account/css/owl.carousel.min.css' %}">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'Account/css/bootstrap.min.css' %}">
    
    <!-- Style -->
    <link rel="stylesheet" href="'{% static 'Account/css/style.css' %}">

{% endblock %}
	{% block body %}
	<div class="user-box">
				<div>
					<center>
						<img src="{% static 'profileapp/Images/imagebg.png' %}" height="45em" style="margin-bottom: 2vh;">
						<h3>Forgot Password</h3><br>
					</center>
				</div>

			  <form onsubmit="return forgotValidate()" action="{% url 'forgotPassword' %}" method="post" id="logform" name="logform">
		
				{% include 'profileapp/notification.html' %}
				{% csrf_token %}
				<div class="form-group first">
				  <label for="username">Email ID:</label>		
					<input type="email" name="email" path="email" id="email" placeholder="Email" autocomplete="off" class="form-control input-sm"/>
					<span id="log-email" style="font-size:12px;margin-top:-5px;" class="text-danger font-weight-bold"></span>
				</div>
				
					<input type="submit" value="Sent Mail" class="btn btn-primary btn-sm">		
				</form>

					<div>
						<center>
							If you Remember your Password?&nbsp;&nbsp;<a href="{% url 'login' %}">Login</a>
						</center>
					</div>
				</div>	

<script type="text/javascript">
	function forgotValidate() {
		var email = document.getElementById('email1').value;
		var form = document.getElementById('logform');
		const isEmailValid = (email) => {
			const re =
				/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			return re.test(email);
		};


		if (email == "") {
			// document.getElementById('email2').innerHTML = "please provide email";
			document.getElementById("log-email").textContent = "***please provide email";
			document.getElementById("log-email").style.border = "1px solid red";
			document.getElementById("log-email").style.color = "red";
			return false;
		} else if (isEmailValid(email) == false) {
			document.getElementById("log-email").textContent = "***Please provide valid email";
			document.getElementById("log-email").style.border = "1px solid red";
			document.getElementById("log-email").style.color = "red";
			return false;
		} else {
			// submit forms
			form.submit();
		}
	}
</script>

{% endblock %}
